\documentclass{article}

\usepackage{fancyhdr}
\usepackage{extramarks}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{xparse}
\usepackage{bm}
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage[plain]{algorithm}
\usepackage{algpseudocode}
\usepackage{listings}
\usepackage{hyperref}
\usepackage[per-mode = fraction]{siunitx}
\usepackage{calc}
\usepackage{cancel}

\usetikzlibrary{automata,positioning}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=blue,
    }

\urlstyle{same}

%
% Basic Document Settings
%

\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in

\linespread{1.1}

\pagestyle{fancy}
\lhead{\hmwkAuthorName}
\chead{\hmwkClass\ (\hmwkClassInstructor,\ \hmwkClassTime): \hmwkTitle}
\rhead{\firstxmark}
\lfoot{\lastxmark}
\cfoot{\thepage}

\renewcommand\headrulewidth{0.4pt}
\renewcommand\footrulewidth{0.4pt}

\setlength\parindent{0pt}
\allowdisplaybreaks
%
% Title Page
%

\title{
	\vspace{2in}
	\textmd{\textbf{\hmwkClass}}\\
	\textmd{\textbf{\hmwkTitle:}\ \hmwkSubTitle}\\
	\normalsize\vspace{0.1in}\small{Due\ on\ \hmwkDueDate\ at \hmwkDueTime}\\
	\vspace{0.1in}\large{\textit{\hmwkClassInstructor,\ \hmwkClassTime}}
	\vspace{3in}
}
\author{\textbf{\hmwkAuthorName}}
\date{\hmwkCompletionDate}

%
% Create Problem Sections
%

\newcommand{\enterProblemHeader}[1]{
	\nobreak\extramarks{}{Problem #1 continued on next page\ldots}\nobreak{}
	\nobreak\extramarks{Problem #1 (continued)}{Problem #1 continued on next page\ldots}\nobreak{}
}

\newcommand{\exitProblemHeader}[1]{
	\nobreak\extramarks{Problem #1 (continued)}{Problem #1 continued on next page\ldots}\nobreak{}
	\nobreak\extramarks{Problem #1}{}\nobreak{}
}

%
% Homework Problem Environment
%
\NewDocumentEnvironment{hwkProblem}{m m s}{
	\section*{Problem #1: #2}
	\enterProblemHeader{#1}
	\setcounter{partCounter}{1}
}{
	\exitProblemHeader{#1}
	\IfBooleanF{#3} % if star, no new page
		{\newpage}
}

% Alias for the Solution section header
\newcommand{\hwkSol}{\vspace{\baselineskip / 2}\textbf{\Large Solution}\vspace{\baselineskip / 2}}

% Alias for the Solution Part subsection header
\newcounter{partCounter}
\newcommand{\hwkPart}{
	\vspace{\baselineskip / 2}
	\textbf{\large Part \Alph{partCounter}}
	\vspace{\baselineskip / 2}
	\stepcounter{partCounter}
}

% Alias for Code subsections in Solutions
\newcommand{\hwkCode}{
	\vspace{\baselineskip / 2}
	\textbf{\large Code}
	\vspace{\baselineskip / 2}
}

%
% Various Helper Commands
%

% Such That
\newcommand{\st}{\text{s.t.}}

% Useful for algorithms
\newcommand{\alg}[1]{\textsc{\bfseries \footnotesize #1}}
\NewDocumentCommand{\func}{m o}{\text{#1}\IfValueT{#2}{(#2)}}

% For derivatives
\newcommand{\deriv}[2]{\frac{\mathrm{d}}{\mathrm{d}#1}(#2)}

% For partial derivatives
\newcommand{\pderiv}[2]{\frac{\partial}{\partial#1}(#2)}

% Probability commands: Expectation, Variance, Covariance, Bias
\NewDocumentCommand{\E}{o}{\mathrm{E}\IfValueT{#1}{(#1)}}
\NewDocumentCommand{\Var}{o}{\mathrm{Var}\IfValueT{#1}{(#1)}}
\NewDocumentCommand{\Cov}{o}{\mathrm{Cov}\IfValueT{#1}{(#1)}}
\NewDocumentCommand{\Bias}{o}{\mathrm{Bias}\IfValueT{#1}{(#1)}}
\NewDocumentCommand{\Prob}{o}{\mathrm{Pr}\IfValueT{#1}{(#1)}}

% Col and Row Vectors
\newcommand{\crvector}[1]{\ensuremath{\begin{pmatrix}#1\end{pmatrix}}}

% Defining Units that are not in the SI base
\DeclareSIUnit\bar{bar}
\DeclareSIUnit\foot{ft}
\DeclareSIUnit\inch{in}
\DeclareSIUnit\year{yr}
\DeclareSIUnit\hour{hr}
\DeclareSIUnit\failure{failure}
\DeclareSIUnit\cycle{cycle}
\DeclareSIUnit\DU{DU}
\DeclareSIUnit\AU{AU}
\DeclareSIUnit\TU{TU}
\DeclareSIUnit\dollar{\$}
\DeclareSIUnit\cent{\text{\textcent}}
\DeclareSIUnit\c{\degreeCelsius}

% Griffiths script char LOL
\def\rcurs{{\mbox{$\resizebox{.09in}{.08in}{\includegraphics[trim= 1em 0 14em 0,clip]{./ScriptR}}$}}}
\def\brcurs{{\mbox{$\resizebox{.09in}{.08in}{\includegraphics[trim= 1em 0 14em 0,clip]{./BoldR}}$}}}

% Code Listing config
\usepackage{xcolor}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\lstdefinestyle{overleaf}{
	% backgroundcolor=\color{backcolour},
	commentstyle=\color{codegreen},
	keywordstyle=\color{magenta},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{codepurple},
	basicstyle=\ttfamily\footnotesize,
	breakatwhitespace=false,
	breaklines=true,
	captionpos=b,
	keepspaces=true,
	numbers=left,
	numbersep=5pt,
	showspaces=false,
	showstringspaces=false,
	showtabs=false,
	tabsize=4
}

% \usepackage[latte]{catppuccinpalette}
% \lstdefinestyle{catppuccin}{
% 	breaklines=true,
% 	keepspaces=true,
% 	numbers=left,
% 	numbersep=5pt,
% 	showspaces=false,
% 	showstringspaces=false,
% 	breakatwhitespace=true,
% 	tabsize=4,
% 	stringstyle = {\color{CtpGreen}},
% 	commentstyle={\color{CtpOverlay1}},
% 	basicstyle = {\small\color{CtpText}\ttfamily},
% 	keywordstyle = {\color{CtpMauve}},
% 	keywordstyle = [2]{\color{CtpBlue}},
% 	keywordstyle = [3]{\color{CtpYellow}},
% 	keywordstyle = [4]{\color{CtpLavender}},
% 	keywordstyle = [5]{\color{CtpPeach}},
% 	keywordstyle = [6]{\color{CtpTeal}}
% }

\lstset{style=overleaf}
